(window.webpackJsonp=window.webpackJsonp||[]).push([[17,164,165,199,211,254,266,269,271,290],{1143:function(e,t,n){n(27),n(33),n(31),n(14),n(41),n(32),n(42);var o=n(111),r=n(148),c=["class","staticClass","style","staticStyle","attrs"];function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}n(51),e.exports={functional:!0,render:function(e,t){var n=t._c,data=(t._v,t.data),d=t.children,h=void 0===d?[]:d,f=data.class,v=data.staticClass,style=data.style,m=data.staticStyle,y=data.attrs,k=void 0===y?{}:y,_=r(data,c);return n("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){o(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[f,v],style:[style,m],attrs:Object.assign({viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},k)},_),h.concat([n("path",{attrs:{d:"M7 13C10.3137 13 13 10.3137 13 7C13 3.68629 10.3137 1 7 1C3.68629 1 1 3.68629 1 7C1 10.3137 3.68629 13 7 13Z",stroke:"#EB5757","stroke-width":"1.5","stroke-linecap":"square"}}),n("path",{attrs:{d:"M6.56622 7.86761H7.65051L7.99936 3.82275H6.20793L6.56622 7.86761ZM7.11308 10.4133C7.63165 10.4133 8.06536 9.97018 8.06536 9.42333C8.06536 8.91418 7.63165 8.47104 7.11308 8.47104C6.54736 8.47104 6.11365 8.91418 6.11365 9.42333C6.11365 9.97018 6.54736 10.4133 7.11308 10.4133Z",fill:"#EB5757"}})]))}}},1144:function(e,t,n){"use strict";n(996)},1145:function(e,t,n){n(27),n(33),n(31),n(14),n(41),n(32),n(42);var o=n(111),r=n(148),c=["class","staticClass","style","staticStyle","attrs"];function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}n(51),e.exports={functional:!0,render:function(e,t){var n=t._c,data=(t._v,t.data),d=t.children,h=void 0===d?[]:d,f=data.class,v=data.staticClass,style=data.style,m=data.staticStyle,y=data.attrs,k=void 0===y?{}:y,_=r(data,c);return n("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){o(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[f,v],style:[style,m],attrs:Object.assign({viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},k)},_),h.concat([n("path",{attrs:{d:"M2 6.5L4.5 9L10 3.5",stroke:"#02BB82","stroke-width":"1.5","stroke-linecap":"square"}})]))}}},1146:function(e,t,n){"use strict";n(997)},1203:function(e,t,n){"use strict";n.r(t);var o=n(1143),r=n.n(o),c=n(848),l={name:"Error",components:{Alert:r.a,Button:c.default},props:{message:{type:String,required:!0},errorMessage:{type:String,required:!0}}},d=(n(1144),n(182)),component=Object(d.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"error"},[n("Alert"),e._v(" "),n("strong",[e._v("Uh-oh!")]),e._v(" "),n("p",[e._v("\n    "+e._s(e.message)+"\n    "),n("br"),e._v("\n    "+e._s(e.errorMessage)+"\n  ")]),e._v(" "),n("br"),e._v(" "),e._m(0),e._v(" "),n("Button",{attrs:{plain:""},on:{click:function(t){return e.$emit("close")}}},[e._v("\n    Close\n  ")])],1)}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("\n    Please shoot us an email at\n    "),n("a",{attrs:{href:"mailto:support@appsumo.com"}},[e._v("support@appsumo.com")]),e._v("\n    for help.\n  ")])}],!1,null,"a00f18a6",null);t.default=component.exports},1204:function(e,t,n){"use strict";n.r(t);var o=n(1145),r=n.n(o),c=n(848),l={name:"Success",components:{Check:r.a,Button:c.default}},d=(n(1146),n(182)),component=Object(d.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"success"},[n("Check"),e._v(" "),n("strong",[e._v("Success!")]),e._v(" "),n("p",[e._v("Your product has been successfully updated!")]),e._v(" "),n("Button",{attrs:{plain:""},on:{click:function(t){return e.$emit("close")}}},[e._v("\n    Close\n  ")])],1)}),[],!1,null,"48f249da",null);t.default=component.exports},1271:function(e,t,n){},1405:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"f",(function(){return v})),n.d(t,"c",(function(){return m})),n.d(t,"e",(function(){return y})),n.d(t,"a",(function(){return k}));var o=n(35),r="/survey",c="/user-survey",l=n.n(o).a.create({withCredentials:!0,baseURL:"".concat("/","api")}),d={headers:{"X-CSRFToken":""}},h=function(e){e.get("csrftoken")&&(d.headers["X-CSRFToken"]=e.get("csrftoken"))},f=function(e){return l.get("".concat(r,"/").concat(e,"/"),d)},v=function(e,data){var t="".concat(r,"-response/"),n={user_survey:e,question:data.question,responses:data.responses};return l.post(t,n,d)},m=function(e,t){var data={campaign:e,status:t};return l.post("".concat(c,"/"),data,d)},y=function(e,t){var data={campaign:e};return l.get("".concat(c,"/").concat(t,"/"),data,d)},k=function(e,t,n){var data={campaign:t,status:n};return l.put("".concat(c,"/").concat(e,"/"),data,d)}},1562:function(e,t,n){"use strict";n.r(t);n(239),n(316),n(64);var o=n(857),r=n(848),c=n(964),l=n(1203),d=n(1204),h=n(1801),f=n(1405),v={components:{Modal:o.default,Button:r.default,Question:h.default,Loading:c.default,Success:d.default,Error:l.default},emits:["click-close"],props:{campaignId:{type:Number,required:!0},completeSurvey:{type:Function,required:!0},previousResponses:{type:Array,required:!1,default:null},isSkipAllowed:{type:Boolean,required:!1,default:!0},showCloseButton:{type:Boolean,required:!1,default:!0}},data:function(){return{state:"loading",currentStep:0,nextStep:"Next",stepTitles:[],survey:{},question:null,responses:[],checkedOptions:this.previousResponses&&this.previousResponses.length?this.previousResponses[0].responses:[],progress:"0%"}},computed:{mobileTitle:function(){return this.stepTitles[this.currentStep]},canSkipQuestion:function(){return this.question&&!this.question.required},nextStepEnabled:function(){return!!(this.isLastQuestion||"single"===this.question.question_type&&this.checkedOptions)||"multiple"===this.question.question_type&&this.checkedOptions.length>=1},isLastQuestion:function(){return this.currentStep===this.survey.questions.length-1}},watch:{},created:function(){this.fetchSurvey()},methods:{fetchSurvey:function(){var e=this;f.d(this.campaignId).then((function(t){var n=t.data.survey_campaign;n&&(e.survey={id:n.id,questions:n.questions.sort((function(a,b){return a.sort-b.sort}))},e.question=e.survey.questions[e.currentStep],e.stepTitles=e.survey.questions.map((function(q){return q.title})),e.state="loaded")})).catch((function(){e.onClickClose()}))},selectStep:function(e){this.currentStep=e,this.question=this.survey.questions[this.currentStep],this.checkedOptions="single"===this.question.question_type?"":[],this.previousResponses&&this.previousResponses[this.currentStep]&&(this.checkedOptions="single"===this.question.question_type?this.previousResponses[this.currentStep].responses[0]:this.previousResponses[this.currentStep].responses),this.currentStep===this.survey.questions.length-1?this.nextStep="Complete Survey":this.nextStep="Next"},onSelectOption:function(e){this.checkedOptions=e},emitResponse:function(){var e=Array.isArray(this.checkedOptions)?this.checkedOptions:[this.checkedOptions],data={question:this.question.id,responses:e,isLastQuestion:this.isLastQuestion};this.$emit("updateResponse",data)},onStepChange:function(e){this.currentStep===this.survey.questions.length-1?this.onClickClose():this.selectStep(e)},onSkip:function(){var data={question:this.question.id,responses:[],isLastQuestion:this.isLastQuestion};this.$emit("updateResponse",data),this.toNextStep()},toNextStep:function(){var e=this.currentStep;e===this.survey.questions.length-1?this.onClickClose():(this.selectStep(e+1),this.updateProgress())},onCancel:function(){this.emitResponse(),this.toNextStep()},onContinue:function(){this.emitResponse();var e=this.currentStep;if(this.currentStep===this.survey.questions.length-1)this.completeSurvey();else{this.selectStep(e+1),this.updateProgress();for(var t=document.getElementsByClassName("question-option checked");t.length>0;)t[0].className="question-option"}},updateProgress:function(){var e=100*this.currentStep/this.survey.questions.length;this.progress="".concat(e,"%")},onClickClose:function(){this.$emit("click-close")}}},m=(n(1916),n(1917),n(182)),component=Object(m.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Modal",{ref:"modal",staticClass:"license-modal-container",attrs:{"show-close-button":e.showCloseButton},on:{"click-close":e.onClickClose}},["loading"===e.state?n("Loading",{attrs:{message:"Loading survey..."}}):e._e(),e._v(" "),"submit"===e.state?n("Loading",{attrs:{message:"Updating your product..."}}):e._e(),e._v(" "),"success"===e.state?n("Success",{on:{close:e.onCancel}}):e._e(),e._v(" "),"error"===e.state?n("Error",{attrs:{message:"There's been an issue recording your response"},on:{close:e.onCancel}}):e._e(),e._v(" "),"loaded"===e.state?n("div",{staticClass:"survey-modal-container"},[n("div",{staticClass:"survey-modal-body"},[n("keep-alive",[n("Question",{attrs:{question:e.question,"current-step":e.currentStep,"checked-options":e.checkedOptions,progress:e.progress},on:{selectOption:e.onSelectOption}})],1)],1),e._v(" "),n("div",{staticClass:"survey-modal-footer"},[e.survey.questions&&e.currentStep<e.survey.questions.length-1?n("Button",{staticClass:"continue-button",attrs:{disabled:!e.nextStepEnabled,color:"primary"},on:{click:e.onContinue}},[e._v("\n        "+e._s(e.nextStep)+"\n      ")]):e._e(),e._v(" "),e.isSkipAllowed&&e.canSkipQuestion&&!e.isLastQuestion?n("Button",{staticClass:"cancel-button",attrs:{color:"primary",plain:""},on:{click:e.onSkip}},[e._v("\n        Skip Question\n      ")]):e._e(),e._v(" "),e.isLastQuestion?n("Button",{staticClass:"complete-button",attrs:{disabled:!e.nextStepEnabled,color:"warning"},on:{click:e.onContinue}},[e._v("\n        "+e._s(e.nextStep)+"\n      ")]):e._e()],1)]):e._e()],1)}),[],!1,null,"f0c3e8d6",null);t.default=component.exports;installComponents(component,{Modal:n(808).default})},1606:function(e,t,n){"use strict";n(1271)},1706:function(e,t,n){},1707:function(e,t,n){},1801:function(e,t,n){"use strict";n.r(t);n(239),n(316);var o={name:"Question",components:{},props:{question:{type:Object,required:!0},currentStep:{type:Number,required:!0},checkedOptions:{type:[Array,String],required:!1,default:function(){return[]}},progress:{type:String,required:!0}},data:function(){return{checkedValues:this.checkedOptions}},computed:{isMultiple:function(){return"multiple"===this.question.question_type},sortedOptions:function(){return this.question.options.sort((function(a,b){return a.order-b.order}))}},watch:{checkedValues:function(){this.$emit("selectOption",this.checkedValues)},checkedOptions:function(){this.checkedValues=this.checkedOptions}},methods:{checkParentLabel:function(e){var t=e.target.parentNode,n=t.className;if(t.className="question-option"===n?"question-option checked":"question-option","radio"===e.target.type)for(var o=document.getElementsByClassName("question-option checked"),r=0;o.length>1;)0===r&&o[r]===t&&(r=1),o[r].className="question-option"}}},r=(n(1606),n(182)),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",{staticClass:"question-title"},[e._v("\n    "+e._s(e.question.title)+"\n  ")]),e._v(" "),n("div",{staticClass:"survey-progress-container"},[n("div",{staticClass:"survey-progress-background"}),e._v(" "),n("div",{staticClass:"survey-progress-bar",style:{width:e.progress},attrs:{id:"survey-progress-bar","data-testid":"survey-progress-bar"}})]),e._v(" "),n("div",{staticClass:"subtitle"},[n("p",{staticClass:"question",domProps:{innerHTML:e._s(e.question.question)}})]),e._v(" "),n("ul",{staticClass:"option-list"},e._l(e.sortedOptions,(function(t){return n("li",{key:t.slug,staticClass:"question-option"},[n("label",{staticClass:"question-option",attrs:{"data-testid":"question-label",for:t.slug}},["checkbox"==(e.isMultiple?"checkbox":"radio")?n("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedValues,expression:"checkedValues"}],staticClass:"question-option",attrs:{id:t.slug,"data-testid":"question-input",type:"checkbox"},domProps:{value:t.slug,checked:Array.isArray(e.checkedValues)?e._i(e.checkedValues,t.slug)>-1:e.checkedValues},on:{click:e.checkParentLabel,change:function(n){var o=e.checkedValues,r=n.target,c=!!r.checked;if(Array.isArray(o)){var l=t.slug,d=e._i(o,l);r.checked?d<0&&(e.checkedValues=o.concat([l])):d>-1&&(e.checkedValues=o.slice(0,d).concat(o.slice(d+1)))}else e.checkedValues=c}}}):"radio"==(e.isMultiple?"checkbox":"radio")?n("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedValues,expression:"checkedValues"}],staticClass:"question-option",attrs:{id:t.slug,"data-testid":"question-input",type:"radio"},domProps:{value:t.slug,checked:e._q(e.checkedValues,t.slug)},on:{click:e.checkParentLabel,change:function(n){e.checkedValues=t.slug}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedValues,expression:"checkedValues"}],staticClass:"question-option",attrs:{id:t.slug,"data-testid":"question-input",type:e.isMultiple?"checkbox":"radio"},domProps:{value:t.slug,value:e.checkedValues},on:{click:e.checkParentLabel,input:function(t){t.target.composing||(e.checkedValues=t.target.value)}}}),e._v(" "),n("span",{staticClass:"question-option"},[e._v(" "+e._s(t.option)+" ")])])])})),0)])}),[],!1,null,"6531d974",null);t.default=component.exports},1916:function(e,t,n){"use strict";n(1706)},1917:function(e,t,n){"use strict";n(1707)},804:function(e,t,n){},808:function(e,t,n){"use strict";n.r(t);n(123),n(487);var o=n(19),r=n.n(o),c={props:{isVisible:{type:Boolean,required:!0},title:{type:String,required:!0},wrapperClass:{type:String,default:""},header:{type:Boolean,default:!1},useLightHeaderButton:{type:Boolean,default:!1}},data:function(){return{modalClassNames:["modal show d-block",this.wrapperClass],mouseDownOutside:!1}},computed:{closeButtonClass:function(){return"close ".concat(this.useLightHeaderButton?"light":"")}},methods:{closeModal:function(){this.mouseDownOutside=!1,this.$emit("onClose")},handleModalMouseUp:function(e){var t=this.modalClassNames.join(" ");r()(e,"target.className",null)===t.trim()&&this.mouseDownOutside?this.closeModal():this.mouseDownOutside=!1},handleModalKeyDown:function(e){"Escape"!==e.key&&27!==e.keyCode||this.closeModal()},handleModalMouseDown:function(e){var t=this.modalClassNames.join(" ");r()(e,"target.className",null)===t.trim()&&(this.mouseDownOutside=!0)}}},l=(n(816),n(182)),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition-group",{attrs:{name:"modal-fade"}},[e.isVisible?n("div",{key:"modal",class:e.modalClassNames,attrs:{tabindex:"-1",role:"dialog","aria-hidden":"true"},on:{mouseup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:e.handleModalMouseUp.apply(null,arguments)},mousedown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:e.handleModalMouseDown.apply(null,arguments)},keydown:e.handleModalKeyDown}},[n("div",{staticClass:"modal-dialog modal-dialog-scrollable",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[e.header?e._t("header"):n("h5",{staticClass:"modal-title"},[e._v("\n            "+e._s(e.title)+"\n          ")]),e._v(" "),n("button",{class:e.closeButtonClass,attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(t){return t.preventDefault(),e.closeModal.apply(null,arguments)}}})],2),e._v(" "),n("div",{staticClass:"modal-body"},[e._t("body")],2),e._v(" "),n("div",{staticClass:"modal-footer d-flex flex-row"},[e._t("footer")],2)])])]):e._e(),e._v(" "),e.isVisible?n("div",{key:"backdrop",staticClass:"modal-backdrop show"}):e._e()])}),[],!1,null,"3813cd94",null);t.default=component.exports},816:function(e,t,n){"use strict";n(804)},830:function(e,t,n){},838:function(e,t,n){},849:function(e,t,n){"use strict";n.r(t);var o={emits:["click-close"],props:{dark:{type:Boolean,default:!1},large:{type:Boolean,default:!1}},methods:{handleClick:function(){this.$emit("click-close")}}},r=(n(863),n(182)),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("button",{staticClass:"btn btn-link p-0 modal-close-button",class:{dark:e.dark,"large-close":e.large},on:{click:e.handleClick}})}),[],!1,null,"dacd5900",null);t.default=component.exports},857:function(e,t,n){"use strict";n.r(t);n(75),n(91);var o=n(19),r=n.n(o),c={components:{ModalCloseButton:n(849).default},emits:["click-close"],props:{mediaURL:{type:String,default:""},showCloseButton:{type:Boolean,required:!1,default:!0}},computed:{mediaStyle:function(){return{backgroundImage:"url(".concat(this.mediaURL,")")}}},methods:{closeModal:function(){this.$emit("click-close")},handleModalClick:function(e){r()(e,"target.className","").includes("handle-outside-modal-click")&&this.closeModal()},handleModalKeyDown:function(e){"Escape"!==e.key&&27!==e.keyCode||this.closeModal()}}},l=(n(890),n(182)),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"modal"}},[n("div",{staticClass:"modal-mask handle-outside-modal-click",attrs:{tabindex:"-1",role:"dialog","aria-hidden":"true"},on:{click:e.handleModalClick,keydown:e.handleModalKeyDown}},[n("div",{staticClass:"modal-wrapper handle-outside-modal-click"},[n("div",{staticClass:"modal-container d-flex flex-column flex-sm-row"},[e.mediaURL?n("div",{staticClass:"modal-image-container",style:e.mediaStyle}):e._e(),e._v(" "),n("div",{staticClass:"modal-content-container"},[e.showCloseButton?e._t("close",(function(){return[n("ModalCloseButton",{on:{"click-close":e.closeModal}})]})):e._e(),e._v(" "),e.$slots.header?n("div",{staticClass:"modal-header"},[e._t("header")],2):e._e(),e._v(" "),n("div",{staticClass:"modal-body"},[e._t("default")],2),e._v(" "),e.$slots.footer?n("div",{staticClass:"modal-footer"},[e._t("footer")],2):e._e()],2)])])])])}),[],!1,null,"41bd1159",null);t.default=component.exports},863:function(e,t,n){"use strict";n(830)},890:function(e,t,n){"use strict";n(838)},904:function(e,t,n){},959:function(e,t,n){"use strict";n(904)},964:function(e,t,n){"use strict";n.r(t);var o=n(914),r={name:"Loading",components:{Loader:n.n(o).a},props:{message:{type:String,required:!0}}},c=(n(959),n(182)),component=Object(c.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"loader"},[n("Loader"),e._v(" "),n("div",{staticClass:"message"},[e._v("\n    "+e._s(e.message)+"\n  ")])],1)}),[],!1,null,"1bffd85b",null);t.default=component.exports;installComponents(component,{Loader:n(812).default})},996:function(e,t,n){},997:function(e,t,n){}}]);
//# sourceMappingURL=7f23f2f.js.map